<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/public/css/freeDraw.css">
    <title>Free Drawing</title>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light">
        <a class="navbar-brand" href="/"><img src="../../public/assets/logo.png" style="width:75px; height: 40px;"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="/">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/room">Multiplayer</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="/free_drawing">Free drawing</a>
                </li>
            </ul>
            <a href="/login/logout" class="btn btn-outline-danger my-2 my-sm-0">Logout</a>
        </div>
    </nav>
    <div id="app">
        <div class="content">
            <div class="canvasWrap">
                <Vuecanvas id="canvas" ref="myCanvas" width="1000" height="700" host="<%= HOST %>" ></Vuecanvas>
            </div>
            <div class="row">
                <div class="input-group col-6">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="image_name"><svg width="1.3em" height="1.3em"
                                viewBox="0 0 16 16" class="bi bi-pencil" fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                    d="M11.293 1.293a1 1 0 0 1 1.414 0l2 2a1 1 0 0 1 0 1.414l-9 9a1 1 0 0 1-.39.242l-3 1a1 1 0 0 1-1.266-1.265l1-3a1 1 0 0 1 .242-.391l9-9zM12 2l2 2-9 9-3 1 1-3 9-9z" />
                                <path fill-rule="evenodd"
                                    d="M12.146 6.354l-2.5-2.5.708-.708 2.5 2.5-.707.708zM3 10v.5a.5.5 0 0 0 .5.5H4v.5a.5.5 0 0 0 .5.5H5v.5a.5.5 0 0 0 .5.5H6v-1.5a.5.5 0 0 0-.5-.5H5v-.5a.5.5 0 0 0-.5-.5H3z" />
                            </svg></span>
                    </div>
                    <div class="input">
                        <input id="title" class="form-control" v-model="title" type="text" size="15" name="id"
                            placeholder="Titolo del disegno" >
                    </div>
                    <button id="save-image-button" class="btn btn-outline-primary ml-1" ref='saveBtn' @click="saveImage()">Salva immagine</button>
                </div>
                <div class="col-6 destra">

                    <button class="btn btn-outline-warning mr-1" @click="redo()">Indietro</button>
                    <input class="picker mr-1" type="color" @change="changeColor($event)" pattern="#[0-9A-Fa-f]{6}"
                        placeholder="Hex Color in this format -> #000000" />
                    <button class="btn btn-outline-danger mr-1" @click="clear()">Elimina disegno</button>
                </div>
            </div>

        </div>
    </div>
    <script src="/public/js/freeDraw.js"></script>
</body>